// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    id 'com.android.application' version '7.2.1' apply false
    id 'com.android.library' version '7.2.1' apply false
    id 'org.jetbrains.kotlin.android' version '1.6.10' apply false
    id "de.undercouch.download" version "5.1.0"
}


def transMap = ['en-EN': 'values']

task downloadTranslations {
    doLast {
        transMap.each { s, d ->
            download.run {
                src "https://reqres.in/api/users?page=2"
               // src "https://language-jd.mesh.mx/api/v1/stores/jdsportsuk/frameworks/android/lang/".concat(s).concat("?api_key=7Y0UDS5QYWGZ7PPKQB5OLPSKEFXHXJ8P&format=android")
                dest file('app/src/main/res/'.concat(d).concat('/string_constants.xml'))
            }
        }
    }
}

downloadTranslations.enabled = true
task clean(type: Delete) {
    dependsOn downloadTranslations
    delete rootProject.buildDir
}